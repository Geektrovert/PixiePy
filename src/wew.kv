<CreateAccountWindow>:
    name: "create"

    namee: namee
    email: email
    password: passw

    canvas.before:
        Color:
            rgba: 0.3412, 0.2392, 0.3451, 1
        Rectangle:
            pos: self.pos
            size: self.size

    FloatLayout:
        cols:1

        FloatLayout:
            size: root.width, root.height/2

            Label:
                text: "Create an Account"
                size_hint: 0.8, 0.2
                pos_hint: {"x":0.1, "top":1}
                font_size: (root.width**2 + root.height**2) / 14**4

            Label:
                size_hint: 0.5,0.12
                pos_hint: {"x":0, "top":0.8}
                text: "Name: "
                font_size: (root.width**2 + root.height**2) / 14**4

            TextInput:
                pos_hint: {"x":0.5, "top":0.8}
                size_hint: 0.4, 0.12
                id: namee
                multiline: False
                font_size: (root.width**2 + root.height**2) / 14**4

            Label:
                size_hint: 0.5,0.12
                pos_hint: {"x":0, "top":0.8-0.13}
                text: "Email: "
                font_size: (root.width**2 + root.height**2) / 14**4

            TextInput:
                pos_hint: {"x":0.5, "top":0.8-0.13}
                size_hint: 0.4, 0.12
                id: email
                multiline: False
                font_size: (root.width**2 + root.height**2) / 14**4

            Label:
                size_hint: 0.5,0.12
                pos_hint: {"x":0, "top":0.8-0.13*2}
                text: "Password: "
                font_size: (root.width**2 + root.height**2) / 14**4

            TextInput:
                pos_hint: {"x":0.5, "top":0.8-0.13*2}
                size_hint: 0.4, 0.12
                id: passw
                multiline: False
                password: True
                font_size: (root.width**2 + root.height**2) / 14**4

        Button:
            pos_hint:{"x":0.3,"y":0.25}
            size_hint: 0.4, 0.1
            font_size: (root.width**2 + root.height**2) / 17**4
            text: "Already have an Account? Log In"
            on_release:
                root.manager.transition.direction = "left"
                root.login()

        Button:
            pos_hint:{"x":0.2,"y":0.05}
            size_hint: 0.6, 0.15
            text: "Submit"
            font_size: (root.width**2 + root.height**2) / 14**4
            on_release:
                root.manager.transition.direction = "left"
                root.submit()


<LoginWindow>:
    name: "login"

    email: email
    password: password

    canvas.before:
        Color:
            rgba: 0.3412, 0.2392, 0.3451, 1
        Rectangle:
            pos: self.pos
            size: self.size

    FloatLayout:

        Label:
            text:"Email: "
            font_size: (root.width**2 + root.height**2) / 13**4
            pos_hint: {"x":0.1, "top":0.9}
            size_hint: 0.3, 0.15

        TextInput:
            id: email
            font_size: (root.width**2 + root.height**2) / 13**4
            multiline: False
            pos_hint: {"x": 0.45 , "top":0.9}
            size_hint: 0.4, 0.15

        Label:
            text:"Password: "
            font_size: (root.width**2 + root.height**2) / 13**4
            pos_hint: {"x":0.1, "top":0.7}
            size_hint: 0.35, 0.15

        TextInput:
            id: password
            font_size: (root.width**2 + root.height**2) / 13**4
            multiline: False
            password: True
            pos_hint: {"x": 0.45, "top":0.7}
            size_hint: 0.4, 0.15

        Button:
            pos_hint:{"x":0.3,"y":0.3}
            size_hint: 0.4, 0.1
            font_size: (root.width**2 + root.height**2) / 17**4
            text: "Login"
            on_release:
                root.manager.transition.direction = "right"
                root.loginBtn()

        Button:
            pos_hint:{"x":0.3,"y":0.15}
            size_hint: 0.4, 0.1
            font_size: (root.width**2 + root.height**2) / 17**4
            text: "Go back"
            on_release:
                root.manager.transition.direction = "right"
                root.BackBtn()

<InitWindow>:
    name: "init"

    canvas.before:
        Color:
            rgba: 0.3412, 0.2392, 0.3451, 1
        Rectangle:
            pos: self.pos
            size: self.size

    FloatLayout:

        AsyncImage:
            source: "Assets/4x/Asset 7@4x.png"
            size_hint: 0.5, 0.3
            pos_hint: {"x":0.255, "y": 0.7}



        Button:
            id: btn1
            pos_hint:{"x":0.4,"y":0.55}
            size_hint: 0.25, 0.12
            font_size: (root.width**2 + root.height**2) / 18**4
            background_normal: "Assets/1x/Asset 1.png"
            on_release:
                root.actBtn1()

        Button:
            id: btn2
            pos_hint:{"x":0.4,"y":0.35}
            size_hint: 0.25, 0.12
            font_size: (root.width**2 + root.height**2) / 18**4
            background_normal: "Assets/1x/Asset 2.png"
            on_release:
                root.actBtn2()

<WorkshopWindow>:

    name: "work"
    hair : hair
    eyes: eyes
    back: back
    mouth: mouth
    beard: beard
    skin: skin
    style: style
    preview: preview
    img_name: img_name
    colorPicker: colorPicker
    colorPickerLabel: colorPickerLabel
    colorSelectorButton: colorSelectorButton
    colorPickerBox: colorPickerBox
    colorLabel: colorLabel
    styleLabel: styleLabel
    styleBox: styleBox
    box1: box1
    box2: box2
    box3: box3
    box4: box4
    box5: box5
    box6: box6

    canvas.before:
        Color:
            rgba: 0.3412, 0.2392, 0.3451, 1
        Rectangle:
            pos: self.pos
            size: self.size

    FloatLayout:

        Label:

            text: "LAYER"
            font_name: "Roboto-Bold"
            pos_hint: {"x": 0.0, "y": 0.89}
            font_size: "25sp"
            size_hint: 0.1, 0.1
            halign: 'left'

        GridLayout:

            rows: 2
            cols: 3

            pos_hint: {"x": 0.02, "y": 0.70}
            size_hint: 0.3, 0.2

            Button:
                canvas.before:
                    Color:
                        rgba: 0.8, 0.8, 0.0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height

                id: hair
                background_normal: ""
                background_color: 0.3412, 0.2392, 0.3451, 1
                text: "HAIR"
                font_size: (root.width**2 + root.height**2) / 16**4
                on_release:
                    root.Shair(self)
            Button:
                canvas.before:
                    Color:
                        rgba: 0.8, 0.8, 0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                id: beard
                background_normal: ""
                background_color: 0.3412, 0.2392, 0.3451, 1
                text: "BEARD"
                font_size: (root.width**2 + root.height**2) / 16**4
                on_release:
                    root.Sbeard(self)
            Button:
                canvas.before:
                    Color:
                        rgba: 0.8, 0.8, 0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                id: eyes
                background_normal: ""
                background_color: 0.3412, 0.2392, 0.3451, 1
                text: "EYES"
                font_size: (root.width**2 + root.height**2) / 16**4
                on_release:
                    root.Seyes(self)
            Button:
                canvas.before:
                    Color:
                        rgba: 0.8, 0.8, 0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                id: back
                background_normal: ""
                background_color: 0.3412, 0.2392, 0.3451, 1
                text: "BACK"
                font_size: (root.width**2 + root.height**2) / 16**4
                on_release:
                    root.Sback(self)
            Button:
                canvas.before:
                    Color:
                        rgba: 0.8, 0.8, 0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                id: skin
                background_normal: ""
                background_color: 0.3412, 0.2392, 0.3451, 1
                text: "SKIN"
                font_size: (root.width**2 + root.height**2) / 16**4
                on_release:
                    root.Sskin(self)
            Button:
                canvas.before:
                    Color:
                        rgba: 0.8, 0.8, 0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                id: mouth
                background_normal: ""
                background_color: 0.3412, 0.2392, 0.3451, 1
                text: "MOUTH"
                font_size: (root.width**2 + root.height**2) / 16**4
                on_release:
                    root.Smouth(self)

        Label:

            text: "STYLE"
            font_name: "Roboto-Bold"
            pos_hint: {"x": 0.0, "y": 0.62}
            font_size: "25sp"
            size_hint: 0.1, 0.1
            halign: 'left'
            id: styleLabel

        BoxLayout:

            canvas.before:
                Color:
                    rgba: 1.0, 1.0, 1.0, 1
                Line:
                    width: 2
                    rectangle: self.x, self.y, self.width, self.height

            size_hint: 0.3, 0.2
            pos_hint: {"x":0.02, "y":0.43}
            id: styleBox

            ScrollView:
                GridLayout:
                    id: style
                    size_hint_x: None
                    rows: 1
                    col_default_width: root.width*0.4
                    width: self.minimum_width
                    spacing: 15
                    padding: 10

        Label:

            text: "Color"
            font_name: "Roboto-Bold"
            pos_hint: {"x": 0.0, "y": 0.35}
            font_size: "25sp"
            size_hint: 0.1, 0.1
            halign: 'left'
            id: colorLabel

        BoxLayout:

            canvas.before:
                Color:
                    rgba: 1.0, 1.0, 1.0, 1
                Line:
                    width: 2
                    rectangle: self.x, self.y, self.width, self.height

            size_hint: 0.3, 0.1
            pos_hint: {"x":0.02, "y":0.25}
            orientation: "horizontal"
            spacing: 5
            padding: 8
            id: colorPickerBox

            Button:
                id: box1
                background_normal: ""
                background_color: 1.0, 0.0, 0.0, 1
                size_hint: 0.15, 1

                on_release:
                    root.colorBox1(self)

            Button:
                id: box2
                background_normal: ""
                background_color: 0.0, 1.0, 0.0, 1
                size_hint: 0.15, 1

                on_release:
                    root.colorBox2(self)

            Button:
                id: box3
                background_normal: ""
                background_color: 0.0, 0.0, 1.0, 1
                size_hint: 0.15, 1

                on_release:
                    root.colorBox3(self)

            Button:
                id: box4
                background_normal: ""
                background_color: 1.0, 1.0, 0.0, 1
                size_hint: 0.15, 1

                on_release:
                    root.colorBox4(self)

            Button:
                id: box5
                background_normal: ""
                background_color: 1.0, 0.0, 1.0, 1
                size_hint: 0.15, 1

                on_release:
                    root.colorBox5(self)

            Button:
                id: box6
                background_normal: ""
                background_color: 0.0, 1.0, 1.0, 1
                size_hint: 0.15, 1

                on_release:
                    root.colorBox6(self)

        Label:
            id: colorPickerLabel
            text: "Value: "
            font_name: "Roboto-Bold"
            pos_hint: {"x": 0.02, "y": 0.1}
            font_size: "25sp"
            size_hint: 0.1, 0.1
            halign: 'left'

        TextInput:
            id: colorPicker
            pos_hint: {"x": 0.115, "y": 0.11}
            size_hint: 0.2, 0.07
            font_size: (root.width**2 + root.height**2) / 14.5**4
            multiline: False

        Button:

            canvas:
                Color:
                    rgba: 1.0, 1.0, 1.0, 1
                Line:
                    width: 2
                    rectangle: self.x, self.y, self.width, self.height

            text: "Apply Color"
            font_name: "Roboto-Bold"
            pos_hint: {"x": 0.115, "y": 0.02}
            size_hint: 0.2, 0.07
            background_normal: ""
            background_color: 0.3412, 0.2392, 0.3451, 1
            color: 0.8, 0.8, 0.0, 1.0
            font_size: (root.width**2 + root.height**2) / 16**4
            id: colorSelectorButton
            on_release:
                root.colorSelected()

        Label:

            text: "Image Name"
            id: img_name
            font_name: "Roboto-Bold"
            pos_hint: {"x": 0.5, "y": 0.9}
            font_size: "25sp"
            size_hint: 0.1, 0.1
            halign: 'left'

        BoxLayout:

            pos_hint: {"x":0.45, "y": 0.3}
            size_hint: 0.45, 0.55

            AsyncImage:
                id: preview
                source: "temp.png"
                allow_stretch: True
                size_hint: 1.0, 1.0

        Button:
            id: saveBtn
            pos_hint:{"x":0.4,"y":0.1}
            size_hint: 0.2, 0.1
            background_normal: "Assets/1x/save.png"
            on_release:
                root.save()

        Button:
            id: downloadBtn
            pos_hint:{"x":0.7,"y":0.1}
            size_hint: 0.2, 0.1
            background_normal: "Assets/1x/down.png"
            on_release:
                root.down()

<SaveWindow>:
    name: "save"

    dimg: dimg
    size_input: size_input

    canvas.before:
        Color:
            rgba: 0.3412, 0.2392, 0.3451, 1
        Rectangle:
            pos: self.pos
            size: self.size


    FloatLayout:

        AsyncImage:
            source: "Assets/download.png"
            size_hint: 0.5, 0.3
            pos_hint: {"x":0.25, "y": 0.7}

        BoxLayout:

            pos_hint: {"x":0.25, "y": 0.25}
            size_hint: 0.5, 0.5

            AsyncImage:
                id: dimg
                source: "temp.png"
                allow_stretch: True
                size_hint: 1.0, 1.0

                canvas:
                    Color:
                        rgba: 1.0, 1.0, 1.0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height

        Button:

            background_normal: "Assets/1x/Asset 9.png"
            pos_hint: {"x": 0.02, "y": 0.3}
            size_hint: 0.2, 0.12
            on_release:
                root.jpg()

        Button:

            background_normal: "Assets/1x/Asset 10.png"
            pos_hint: {"x": 0.02, "y": 0.6}
            size_hint: 0.2, 0.12
            on_release:
                root.png()

        Button:

            background_normal: "Assets/1x/Asset 11.png"
            pos_hint: {"x": 0.78, "y": 0.3}
            size_hint: 0.2, 0.12
            on_release:
                root.bmp()

        Button:

            background_normal: "Assets/1x/Asset 12.png"
            pos_hint: {"x": 0.78, "y": 0.6}
            size_hint: 0.2, 0.12
            on_release:
                root.jpeg()

        AsyncImage:
            source: "Assets/1x/Asset 8.png"
            size_hint: 0.15, 0.1
            pos_hint: {"x":0.3, "y": 0.1}

        TextInput:
            id: size_input
            text: '400'
            font_size: (root.width**2 + root.height**2) / 14**4
            multiline: False
            pos_hint: {"x": 0.46, "y":0.1}
            size_hint: 0.15, 0.1



<MainWindow>:

    name: 'main'
    gallery: gallery

    canvas.before:
        Color:
            rgba: 0.3412, 0.2392, 0.3451, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:

        orientation: 'horizontal'
        padding: 10

        FloatLayout:

            size_hint: 0.25, 1.0
            canvas.before:
                Color:
                    rgba: 0.8, 0.8, 0, 1
                Line:
                    width: 2
                    rectangle: root.width/4, self.y*5, 1, self.height*7/8

            Button:
                pos_hint: {"x":0.1, "y":0.25}
                size_hint: 0.8 , 0.12
                background_normal: "Assets/1x/Asset 14.png"
                on_release:
                    root.createNew()

            Button:
                pos_hint: {"x":0.1, "y":0.1}
                size_hint: 0.8 , 0.12
                background_normal: "Assets/1x/Asset 15.png"
                on_release:
                    root.logOut()

            AsyncImage:
                source: "temp.png"
                size_hint: 0.8, 0.8
                pos_hint: {"x":0.1, "y": 0.2}



        FloatLayout:

            size_hint: 0.75, 1.0

            AsyncImage:
                source: "Assets/4x/Asset 6@4x.png"
                size_hint: 0.5, 0.3
                pos_hint: {"x":0.25, "y": 0.7}

            BoxLayout:

                canvas.before:
                    Color:
                        rgba: 1.0, 1.0, 1.0, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height

                size_hint: 0.7, 0.7
                pos_hint: {"x":0.15, "y":0.05}

                ScrollView:
                    GridLayout:
                        id: gallery
                        size_hint_x: None
                        rows: 1
                        col_default_width: root.width*0.4
                        width: self.minimum_width
                        spacing: 15
                        padding: 10